---
title: "ReceiptLineã‚’CLIã§SVGå¤‰æ›"
emoji: "ğŸ˜€"
type: "tech"
topics: [receiptline]
published: true
---
ãƒ¬ã‚·ãƒ¼ãƒˆè¨˜è¿°è¨€èª[ReceiptLine](https://github.com/receiptline/receiptline)ã¯[npmã§æä¾›](https://www.npmjs.com/~receiptline)ã•ã‚Œã¦ã„ã‚‹ã€‚
[ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰ã®ãƒ¬ã‚·ãƒ¼ãƒˆã‚’å†ç¾ã—ãŸ](https://qiita.com/eggplants/items/be1dd4b14f4d032c7ba7)éš›ã«ã€ã€Œ[ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¨ãƒ‡ã‚£ã‚¿](http://www.ofsc.or.jp/receiptline_/designer/index.html)ã§ãªãã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ç°¡å˜ã«å®Ÿè¡Œã—ãŸã„ãªã€ã¨æ€ã£ãŸã®ã§ã‚³ãƒãƒ³ãƒ‰`rltosvg`ã‚’æ›¸ã„ãŸã€‚(GitHubã¯[ã“ã¡ã‚‰](https://github.com/eggplants/receipts/blob/master/rltosvg))

## å®Ÿè£…

```javascript:rltosvg
#!/usr/bin/node

// $ npm -g install receiptline
// $ ./rltosvg <cpl int> <encoding> <import filepath> <export filepath>
const usage = './rltosvg <cpl int> <encoding> <import filepath> <export filepath>';

// print args
// console.log(process.argv);
const args = process.argv;
if (args.length !== 6) throw `Err: ${usage}`;

// read lib
const receiptline = require('receiptline');
const fs = require('fs');

// configrate
const option = {
    cpl: parseInt(args[2]),
    encoding: args[3],
    upsideDown: false,
    gamma: 1.8,
    command: 'svg'
};

// import
const input = fs.readFileSync(args[4], 'utf8').toString();

// compile
const data = receiptline.transform(input, option);

// export
fs.writeFile(args[5], data, {flag: 'w'}, (err) => {
  if (err) throw err + "\nErr: export";
  console.log('Success.');
});
```

## å®Ÿè¡Œä¾‹

ãƒãƒã‚Šã©ã“ã‚ã¯ã€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’æ—¥æœ¬èªã‚’å«ã‚“ã ã¨ãã¯`cp932`ã€è‹±èªã®ã¿ãªã‚‰`cp437`ã«ã™ã‚‹ã¨ã“ã‚

```bash
./rltosvg 48 cp932 code.rl out.svg
```

## å•é¡Œç‚¹

~~ã“ã®æ–¹å¼ã ã¨ã€ç¾æ™‚ç‚¹ã§base64ç”»åƒãŒè¡¨ç¤ºã§ããªã„
è§£æ±ºæ–¹æ³•å‹Ÿé›†ä¸­ã§ã™~~
`v1.0.2`ã§ä¿®æ­£æ¸ˆã¿

