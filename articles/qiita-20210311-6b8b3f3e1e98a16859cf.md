---
title: "Ubuntu 20.10ã®Steamã§OneShotãŒèµ·å‹•ã—ãªã„å•é¡Œ"
emoji: "ğŸ˜€"
type: "tech"
topics: [Ubuntu,steam,oneshot,ubuntu20.10,librt]
published: true
---
## ä½•ï¼Ÿ

Steamã§è³¼å…¥ã—ãŸ[OneShot](https://store.steampowered.com/app/420530/OneShot)ã‚’Ubuntu20.10ã§èµ·å‹•ã—ã‚ˆã†ã¨ã—ãŸãŒèµ·å‹•ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚‚èµ·å‹•ã—ãªã‹ã£ãŸã®ã§è§£æ±ºã—ãŸã€‚
çµè«–ã¨ã—ã¦ã€OneShotè‡ªä½“ã¯Linuxã«å¯¾å¿œã“ãã—ã¦ã„ã‚‹ãŒã‚ã¾ã‚Šãƒ¡ãƒ³ãƒ†ã•ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã€å¤ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æ•´ç†ã™ã‚‹ã¨ã†ã¾ãè¡Œã£ãŸã€‚

## äº‹è±¡1

ç›´æ¥èµ·å‹•ã—ã¦ã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã‚’èª­ã‚€ã€‚

```bash
$ cdã€€~/.local/share/Steam/steamapps/common/OneShot
# steamçµŒç”±ã§é–‹ã‹ãªã„ã¨æ­£å¸¸ã«èµ·å‹•ã—ãªã„
$ steam steam://rungameid/420530
...
./oneshot: ~/.local/share/Steam/steamapps/common/OneShot/librt.so.1: undefined symbol: __clock_nanosleep, version GLIBC_PRIVATE
```

Steam Communityã§æ¤œç´¢ã™ã‚‹ã¨å…ˆäººãŸã¡ãŒè‹¦åŠ´ã—ã¦ã„ã‚‹æ§˜å­ãŒè¦‹ãˆãŸã€‚
ä»–ã®Linuxç³»OSã§ã‚‚åŒæ§˜ã®å•é¡ŒãŒèµ·ã“ã£ã¦ã„ã‚‹ã‚ˆã†ã ã€‚

- https://steamcommunity.com/app/420530/discussions/search/?q=+__clock_nanosleep%2C+version+GLIBC_PRIVATE&sort=time


ã‚°ã‚°ã‚‹ã¨[ãƒ’ãƒƒãƒˆã—ãŸ](https://www.reddit.com/r/archlinux/comments/ge38n6/game_on_steam_doesnt_launch_while_other_games_do/fwvxc2j?utm_source=share&utm_medium=web2x&context=3)è¨˜äº‹ã‚ˆã‚Š:

```bash
$ sudo find /usr/lib/x86_64-linux-gnu -name librt.so* | xargs ls -l
lrwxrwxrwx 1 root root 13 12æœˆ 14 14:45 /usr/lib/x86_64-linux-gnu/librt.so.1 -> librt-2.32.so
$ rm -rf librt.so.1
$ ln -s /usr/lib/x86_64-linux-gnu/librt-2.32.so librt.so.1
```

æ–°ã—ã‚ã®`librt`ã¸ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã«å·®ã—æ›¿ãˆãŸã€‚

## äº‹è±¡2

ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãŒå¤‰ã‚ã‚Š:

```bash
$ steam steam://rungameid/420530
libGL error: MESA-LOADER: failed to open radeonsi (search paths /usr/lib/x86_64-linux-gnu/dri:\$${ORIGIN}/dri:/usr/lib/dri)
libGL error: failed to load driver: radeonsi
libGL error: MESA-LOADER: failed to open radeonsi (search paths /usr/lib/x86_64-linux-gnu/dri:\$${ORIGIN}/dri:/usr/lib/dri)
libGL error: failed to load driver: radeonsi
libGL error: MESA-LOADER: failed to open swrast (search paths /usr/lib/x86_64-linux-gnu/dri:\$${ORIGIN}/dri:/usr/lib/dri)
libGL error: failed to load driver: swrast
X Error of failed request:  GLXBadContext
  Major opcode of failed request:  152 (GLX)
  Minor opcode of failed request:  6 (X_GLXIsDirect)
  Serial number of failed request:  111
  Current serial number in output stream:  110
```

ã¨libGLã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã€‚

ã“ã®ã‚¨ãƒ©ãƒ¼ã«é–¢ã—ã¦ã¯Steam Communityã«[ã‚¹ãƒ¬ãŒã‚ã‚Š](https://steamcommunity.com/app/420530/discussions/1/1639794468037255621):

```bash
$ rm -rf libdrm.so.2 libGLdispatch.so.0 libstdc++.so.6
```

ã¨ã—ã¦å†åº¦èµ·å‹•ã™ã‚‹ã¨ã€

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/278919/38a557bc-e591-db4f-2f77-8506eba3f40a.png)

ã†ã¾ãè¡Œã£ãŸã€‚

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/278919/7e3e06e7-b025-b4f6-4f6e-3a3cffc83c88.png)

æ—¥æœ¬èªã‚‚OKã€‚

## çµè«–

è§£æ±º

## ä»–ã®è§£æ±ºæ³•ã¯ï¼Ÿ

[ã“ã®ã‚¹ãƒ¬ãƒƒãƒ‰](https://steamcommunity.com/app/420530/discussions/0/3112521650153028839/)ã«ã‚ˆã‚‹ã¨ã€

```bash
$ cd ~/.local/share/Steam/steamapps/common/OneShot
$ rm -rf libgio-2.0.so.0 libglib-2.0.so.0 libsystemd.so.0 librt.so.1 libstdc++.so.6
```

ã§å‹•ä½œã™ã‚‹ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ã®ã§ãã¡ã‚‰ã‚’è©¦ã—ã¦ã‚‚è‰¯ã„ã€‚

