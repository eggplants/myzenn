---
title: "ä»»æ„ã‚µã‚¤ãƒˆã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ—æŒ™ã™ã‚‹"
emoji: "ğŸ˜€"
type: "tech"
topics: [Python,Bash,curl,ã‚·ã‚§ãƒ«èŠ¸]
published: true
---
## ä½•ï¼Ÿ

ã‚ã‚‹ã‚µã‚¤ãƒˆã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¢ã—ã¦åˆ—æŒ™ã—ãŸã„ã€‚
ä¾‹ãˆã°`example.com`ãªã‚‰`ftp.example.com`ã‚„`ws3.example.com`ãªã©ãŒã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å½“ãŸã‚‹ã€‚
èª¿ã¹ãŸã¨ã“ã‚[ã„ãã¤ã‹ãƒ„ãƒ¼ãƒ«](https://github.com/search?o=desc&q=subdomain+enumeration&s=stars&type=Repositories)ãŒãƒ’ãƒƒãƒˆã—ãŸã€‚ãã®ä¸­ã§ã‚‚`sublist3r`ãŒã‚·ãƒ³ãƒ—ãƒ«ã§è‰¯ã‹ã£ãŸã®ã§ç´¹ä»‹ã™ã‚‹ã€‚

## `sublist3r`

[aboul3la/Sublist3r](https://github.com/aboul3la/Sublist3r)ã¯ã€å„æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã®ã‚¯ãƒ­ãƒ¼ãƒ©ãŒæ‹¾ã£ãŸãƒ¬ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ¤œç´¢ã—åˆ—æŒ™ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã€‚(ãƒ¡ãƒ³ãƒ†ã•ã‚Œã¦ã‚‹ã‹å¾®å¦™ã ãŒ2020-03-25ç¾åœ¨ä½¿ç”¨ã§ããŸã€‚)

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯:

```bash:Terminal
# pypiã«ã¯ç¬¬ä¸‰è€…ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã„ã‚‹ã®ã§æœ¬å®¶repoã‹ã‚‰
$ git clone https://github.com/aboul3la/Sublist3r && cd Sublist3r
$ pip install -r requirements.txt
$ pip install -e .
$ sublist3r --help
```

```text:Help
usage: sublist3r [-h] -d DOMAIN [-b [BRUTEFORCE]] [-p PORTS] [-v [VERBOSE]] [-t THREADS]
                 [-e ENGINES] [-o OUTPUT] [-n]

OPTIONS:
  -h, --help            show this help message and exit
  -d DOMAIN, --domain DOMAIN
                        Domain name to enumerate it's subdomains
  -b [BRUTEFORCE], --bruteforce [BRUTEFORCE]
                        Enable the subbrute bruteforce module
  -p PORTS, --ports PORTS
                        Scan the found subdomains against specified tcp ports
  -v [VERBOSE], --verbose [VERBOSE]
                        Enable Verbosity and display results in realtime
  -t THREADS, --threads THREADS
                        Number of threads to use for subbrute bruteforce
  -e ENGINES, --engines ENGINES
                        Specify a comma-separated list of search engines
  -o OUTPUT, --output OUTPUT
                        Save the results to text file
  -n, --no-color        Output without color

Example: python /home/eggplants/.local/bin/sublist3r -d google.com
```

## å®Ÿéš›ã«åˆ—æŒ™

`sublist3r -d <domain>`ã§å®Ÿè¡Œã§ãã‚‹ã€‚ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§ä¿å­˜ã™ã‚‹ã«ã¯`-o <filename>`ã‚’ä½¿ã†ã€‚

ä»Šå›ã¯ç­‘æ³¢å¤§å­¦ã®ãƒ‰ãƒ¡ã‚¤ãƒ³`tsukuba.ac.jp`ã§è©¦ã—ã¦ã¿ã‚‹ã€‚

```bash:Terminal
$ LANG=C date
Thu Mar 25 11:25:01 JST 2021 
$ sublist3r -d tsukuba.ac.jp -o subdomains.txt
...(ç•¥)...
$ wc -l subdomains.txt
13876
```

çµæœã¯[ã“ã¡ã‚‰](https://gist.github.com/eggplants/a66fffa1bee3db8fb50d82319b4040f5)

## å¿œç”¨

```bash:Terminal
# è‡ªå·±è²¬ä»»ã§
$ (echo 'url,res_code,content_type,res_time'
  cat subdomains.txt | xargs -n 1 -P 5 -I@ \
  curl "@" -m 2 -s -o /dev/null \
       -w "@,%{http_code},%{content_type},%{time_starttransfer}s\n" | sort) > res.csv
# httpã§ãªã«ã‹é…ä¿¡ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã®åˆ—æŒ™
$ (sed 1\!d res.csv;grep -v ,, res.csv | grep ,200,) > res_200.csv
$ echo $[`wc -l<res_200.csv`-1]
279
# httpsã¨ã‹ã¸ã®è»¢é€(301)
$ (sed 1\!d res.csv;grep -v ,, res.csv | grep ,301,) > res_301.csv
$ echo $[`wc -l<res_301.csv`-1]
180
```

çµæœã¯[ã“ã¡ã‚‰](https://gist.github.com/eggplants/b42c4136243317e27c2cdc0d04d78755)
ã¾ãŸã“ã‚Œã‚‰ã®å‡¦ç†ã‚’ã¾ã¨ã‚ãŸ[ã‚¹ã‚¯ãƒªãƒ—ãƒˆ](https://github.com/eggplants/sres)ã‚’æ›¸ã„ãŸã€‚

## çµè«–

ãŠæ‰‹è»½ã€‚

